(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1OYU":function(e,t,s){"use strict";s.r(t),s.d(t,"DHCModule",function(){return K});var o=s("ofXK"),i=s("tyNb"),n=s("fXoL"),c=s("HfUu"),r=s("3Pt+"),a=s("0zL+"),b=s("iKI+"),u=s("pqM3"),l=s("hzby");function d(e,t){if(1&e&&(n.Sb(0,"option",30),n.Ic(1),n.Rb()),2&e){const e=t.$implicit;n.nc("value",e.SAPCode),n.zb(1),n.Lc(" ",e.SAPCode,"-",e.Name,"")}}function g(e,t){if(1&e&&(n.Sb(0,"option",30),n.Ic(1),n.Rb()),2&e){const e=t.$implicit;n.nc("value",e.Code),n.zb(1),n.Kc(" ",e.Desc,"")}}function m(e,t){1&e&&(n.Qb(0),n.Sb(1,"h5",31),n.Ic(2,"No Data Found"),n.Rb(),n.Pb())}function I(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",33),n.Sb(1,"div",34),n.Sb(2,"table",35),n.Sb(3,"tr"),n.Sb(4,"td"),n.Ic(5,"Issue No"),n.Rb(),n.Sb(6,"td"),n.Sb(7,"span",36),n.cc("click",function(){n.Ac(e);const s=t.$implicit;return n.gc(2).UpdateIssue(s.Issue_No)}),n.Ic(8),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"tr"),n.Sb(10,"td"),n.Ic(11,"Customer"),n.Rb(),n.Sb(12,"td"),n.Ic(13),n.Rb(),n.Rb(),n.Sb(14,"tr"),n.Sb(15,"td"),n.Ic(16,"Raise Date"),n.Rb(),n.Sb(17,"td"),n.Ic(18),n.Rb(),n.Rb(),n.Sb(19,"tr"),n.Sb(20,"td"),n.Ic(21,"Division"),n.Rb(),n.Sb(22,"td"),n.Ic(23),n.Rb(),n.Rb(),n.Sb(24,"tr"),n.Sb(25,"td"),n.Ic(26,"Status"),n.Rb(),n.Sb(27,"td"),n.Sb(28,"span",37),n.Ic(29),n.Rb(),n.Rb(),n.Rb(),n.Sb(30,"tr"),n.Sb(31,"td"),n.Ic(32,"Description"),n.Rb(),n.Sb(33,"td"),n.Sb(34,"span",38),n.Ic(35),n.Rb(),n.Nb(36,"br"),n.Ic(37),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()}if(2&e){const e=t.$implicit;n.zb(8),n.Jc(e.Issue_No),n.zb(5),n.Lc("",e.Issue_Raise_For,"-",e.CA_Cust_Display_Name,""),n.zb(5),n.Jc(e.Issue_Raise_Date),n.zb(5),n.Jc(e.Division),n.zb(5),n.Fc("color","Open"==e.Issue_Status?"red":"green"),n.zb(1),n.Kc(" ",e.Issue_Status,""),n.zb(6),n.Jc(e.CategoryName),n.zb(2),n.Kc(" ",e.Issue_Description," ")}}function f(e,t){if(1&e&&(n.Qb(0),n.Gc(1,I,38,10,"div",32),n.Pb()),2&e){const e=n.gc();n.zb(1),n.nc("ngForOf",e.IssueDetailList)}}const p=function(){return{dateInputFormat:"DD/MM/YYYY"}};let S=(()=>{class e{constructor(e,t,s,o,i,n){this._authService=e,this.fb=t,this._customer=s,this._DHCService=o,this._router=i,this._EncDecService=n,this.userid=""}ngOnInit(){this.datePipe=new o.f("en-US"),this.userid=this._authService.getLoggedInUserid(),this.searchIssueForm=this.fb.group({CustCode:[""],CategoryID:[""],Status:[""],FromDate:[""],ToDate:[""],IssueNo:[""],UserID:this.userid}),this.GetCustomerAccountList(this._authService.getLoggedInUserid()),this.GetCategoryList(),this.SearchIssue()}GetCustomerAccountList(e){this._customer.GetCustomerAccount(e).subscribe(e=>{this.customerAccountList=e.Data._UserInfo[0].CustomerAccountList})}GetCategoryList(){this._DHCService.GetCategoryList().subscribe(e=>{this.CategoryList=e.Data.CategoryList})}changeDateFormat(e,t){e=this.datePipe.transform(e,"dd/MM/yyyy"),"fromdate"==t?this.searchIssueForm.get("FromDate").setValue(e):this.searchIssueForm.get("ToDate").setValue(e)}SearchIssue(){const e=this.searchIssueForm.getRawValue();""!=e.FromDate&&null!=e.FromDate&&(e.FromDate=e.FromDate.split("/").reverse().join("-")),""!=e.ToDate&&null!=e.ToDate&&(e.ToDate=e.ToDate.split("/").reverse().join("-")),console.log(e),this._DHCService.SearchIssueDetail(e).subscribe(e=>{"Success"==e.Message?(this.IssueDetailList=e.Data.DHCHeaderList,console.log(e.Data.DHCHeaderList)):this.IssueDetailList=null})}UpdateIssue(e){this._router.navigate(["DHC/update-issue",this._EncDecService.set(e)])}GoToHome(){this._router.navigate(["/dashboard"])}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.a),n.Mb(r.d),n.Mb(a.b),n.Mb(b.a),n.Mb(i.c),n.Mb(u.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-issuedashboard"]],decls:55,vars:9,consts:[[1,"col-12","mt-2","text-right"],["routerLink","/DHC/raise-issue",1,"btn","btn-danger","btn-sm"],[1,"fa","fa-pen"],[3,"formGroup"],[1,"col-12"],[1,""],["for","CustomerCode"],["type","text","formControlName","CustCode",1,"custom-select","custom-select-sm","tx-12"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","fromdate"],[1,"fa","fa-calendar"],["type","text","formControlName","FromDate","autocomplete","off","id","fromdate","bsDatepicker","","onkeydown","return false;",1,"form-control","form-control-sm",3,"bsConfig","bsValueChange"],["for","todate"],["type","text","formControlName","ToDate","id","todate","autocomplete","off","bsDatepicker","","onkeydown","return false;",1,"form-control","form-control-sm","datepicker","date",3,"bsConfig","bsValueChange"],["for","issueno"],["type","text","formControlName","IssueNo","autocomplete","off","id","issueno",1,"form-control","form-control-sm"],["for","CategoryID"],["type","text","formControlName","CategoryID",1,"custom-select","custom-select-sm","tx-12"],["for","Status"],["type","text","formControlName","Status",1,"custom-select","custom-select-sm","tx-12"],["value","0"],["value","10"],["value","20"],[2,"margin-top","4%"],["type","button",1,"btn","btn-sm","btn-primary",2,"width","48%","float","left",3,"click"],["type","button",1,"btn","btn-sm","btn-primary",2,"width","48%","float","right",3,"click"],[1,"clearfix"],[1,"col-sm-12","col-xl-12",2,"padding-left","5px","padding-right","5px"],[4,"ngIf"],[3,"value"],[2,"text-align","center","color","red","font-weight","bold","margin-top","5%"],["class","card card-hover card-customer-score",4,"ngFor","ngForOf"],[1,"card","card-hover","card-customer-score"],[1,"card-body","pd-t-10"],[1,"table","table-sm","table-bordered"],[2,"font-weight","bold","text-decoration","underline","cursor","pointer",3,"click"],[2,"font-weight","bold"],[2,"text-decoration","underline"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"a",1),n.Nb(2,"i",2),n.Ic(3,"\xa0 Raise New Issue"),n.Rb(),n.Rb(),n.Sb(4,"form",3),n.Sb(5,"div",4),n.Sb(6,"div",5),n.Sb(7,"label",6),n.Ic(8,"User Account"),n.Rb(),n.Sb(9,"select",7),n.Sb(10,"option",8),n.Ic(11,"---Select Account List---"),n.Rb(),n.Gc(12,d,2,3,"option",9),n.Rb(),n.Rb(),n.Sb(13,"div",5),n.Sb(14,"label",10),n.Ic(15," From Date(DD/MM/YYYY)\xa0"),n.Nb(16,"i",11),n.Rb(),n.Sb(17,"input",12),n.cc("bsValueChange",function(e){return t.changeDateFormat(e,"fromdate")}),n.Rb(),n.Rb(),n.Sb(18,"div",5),n.Sb(19,"label",13),n.Ic(20,"To Date(DD/MM/YYYY)\xa0"),n.Nb(21,"i",11),n.Rb(),n.Sb(22,"input",14),n.cc("bsValueChange",function(e){return t.changeDateFormat(e,"todate")}),n.Rb(),n.Rb(),n.Sb(23,"div",5),n.Sb(24,"label",15),n.Ic(25,"Issue No"),n.Rb(),n.Nb(26,"input",16),n.Rb(),n.Sb(27,"div",5),n.Sb(28,"label",17),n.Ic(29,"Category"),n.Rb(),n.Sb(30,"select",18),n.Sb(31,"option",8),n.Ic(32,"---Select Category---"),n.Rb(),n.Gc(33,g,2,2,"option",9),n.Rb(),n.Rb(),n.Sb(34,"div",5),n.Sb(35,"label",19),n.Ic(36,"Status"),n.Rb(),n.Sb(37,"select",20),n.Sb(38,"option",8),n.Ic(39,"---Select All---"),n.Rb(),n.Sb(40,"option",21),n.Ic(41,"Pending"),n.Rb(),n.Sb(42,"option",22),n.Ic(43,"WIP"),n.Rb(),n.Sb(44,"option",23),n.Ic(45,"Closed"),n.Rb(),n.Rb(),n.Rb(),n.Sb(46,"div",24),n.Sb(47,"button",25),n.cc("click",function(){return t.SearchIssue()}),n.Ic(48,"SUBMIT"),n.Rb(),n.Sb(49,"button",26),n.cc("click",function(){return t.GoToHome()}),n.Ic(50," CANCEL "),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Nb(51,"div",27),n.Sb(52,"div",28),n.Gc(53,m,3,0,"ng-container",29),n.Gc(54,f,2,1,"ng-container",29),n.Rb()),2&e&&(n.zb(4),n.nc("formGroup",t.searchIssueForm),n.zb(8),n.nc("ngForOf",t.customerAccountList),n.zb(5),n.nc("bsConfig",n.qc(7,p)),n.zb(5),n.nc("bsConfig",n.qc(8,p)),n.zb(11),n.nc("ngForOf",t.CategoryList),n.zb(20),n.nc("ngIf",null==t.IssueDetailList),n.zb(1),n.nc("ngIf",null!=t.IssueDetailList))},directives:[i.d,r.v,r.m,r.g,r.t,r.l,r.e,r.p,r.w,o.n,r.b,l.b,l.a,o.o],styles:["table.table.table-sm.issuetable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}table.table.table-sm.issuetable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background-color:#7fffd4;width:40%}table.table.table-sm.table-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#eee}table.table.table-sm.table-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.card[_ngcontent-%COMP%]{border:none}.card-body[_ngcontent-%COMP%]{padding-left:9px;padding-right:9px}table.table.table-sm.table-bordered[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:35%}"]}),e})();var h=s("tk/3");function R(e,t){if(1&e&&(n.Sb(0,"option",16),n.Ic(1),n.Rb()),2&e){const e=t.$implicit;n.nc("value",e.SAPCode),n.zb(1),n.Lc(" ",e.SAPCode,"-",e.Name,"")}}function C(e,t){1&e&&(n.Sb(0,"div",18),n.Ic(1," Customer code is required. "),n.Rb())}function D(e,t){if(1&e&&(n.Sb(0,"div"),n.Gc(1,C,2,0,"div",17),n.Rb()),2&e){const e=n.gc();n.zb(1),n.nc("ngIf",null==e.RaiseIssueForm.get("CustomerCode").errors?null:e.RaiseIssueForm.get("CustomerCode").errors.required)}}function v(e,t){if(1&e&&(n.Sb(0,"option",16),n.Ic(1),n.Rb()),2&e){const e=t.$implicit;n.nc("value",e.Code),n.zb(1),n.Kc(" ",e.Desc,"")}}function _(e,t){1&e&&(n.Sb(0,"div",18),n.Ic(1," Category is required. "),n.Rb())}function y(e,t){if(1&e&&(n.Sb(0,"div"),n.Gc(1,_,2,0,"div",17),n.Rb()),2&e){const e=n.gc();n.zb(1),n.nc("ngIf",null==e.RaiseIssueForm.get("CategoryID").errors?null:e.RaiseIssueForm.get("CategoryID").errors.required)}}function F(e,t){1&e&&(n.Sb(0,"div",18),n.Ic(1," Description is required. "),n.Rb())}function x(e,t){if(1&e&&(n.Sb(0,"div"),n.Gc(1,F,2,0,"div",17),n.Rb()),2&e){const e=n.gc();n.zb(1),n.nc("ngIf",null==e.RaiseIssueForm.get("Description").errors?null:e.RaiseIssueForm.get("Description").errors.required)}}function z(e,t){if(1&e&&(n.Sb(0,"div",11),n.Ic(1,"Update Concern Status"),n.Nb(2,"br"),n.Ic(3),n.Rb()),2&e){const e=n.gc();n.zb(3),n.Jc(e.IssueDetailList[0].Issue_No)}}function L(e,t){if(1&e){const e=n.Tb();n.Qb(0),n.Sb(1,"tr"),n.Sb(2,"td"),n.Ic(3,"Name"),n.Rb(),n.Sb(4,"td"),n.Ic(5),n.Rb(),n.Rb(),n.Sb(6,"tr"),n.Sb(7,"td"),n.Ic(8,"Product Category"),n.Rb(),n.Sb(9,"td"),n.Ic(10),n.Rb(),n.Rb(),n.Sb(11,"tr"),n.Sb(12,"td"),n.Ic(13,"Raise On Date"),n.Rb(),n.Sb(14,"td"),n.Ic(15),n.Rb(),n.Rb(),n.Sb(16,"tr"),n.Sb(17,"td"),n.Ic(18,"Issue Status"),n.Rb(),n.Sb(19,"td"),n.Ic(20),n.Rb(),n.Rb(),n.Sb(21,"tr"),n.Sb(22,"td"),n.Ic(23,"Issue"),n.Rb(),n.Sb(24,"td"),n.Ic(25),n.Rb(),n.Rb(),n.Sb(26,"tr"),n.Sb(27,"td"),n.Ic(28,"Issue Description"),n.Rb(),n.Sb(29,"td"),n.Ic(30),n.Rb(),n.Rb(),n.Sb(31,"tr"),n.Sb(32,"td"),n.Ic(33,"Expected Resolution Date"),n.Rb(),n.Sb(34,"td"),n.Ic(35),n.Rb(),n.Rb(),n.Sb(36,"tr"),n.Sb(37,"td"),n.Ic(38,"Attachment"),n.Rb(),n.Sb(39,"td"),n.Sb(40,"span",13),n.cc("click",function(){n.Ac(e);const s=t.$implicit;return n.gc(2).DownloadAttachment(s.IssueNo+"."+s.Extension)}),n.Ic(41,"Download Attachment"),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&e){const e=t.$implicit;n.zb(5),n.Lc("",e.Issue_Raise_For,"-",e.CA_Cust_Display_Name,""),n.zb(5),n.Jc(e.Division),n.zb(5),n.Jc(e.Issue_Raise_Date),n.zb(5),n.Jc(e.CurrentStatus),n.zb(5),n.Jc(e.CategoryName),n.zb(5),n.Jc(e.Issue_Description),n.zb(5),n.Jc(""==e.Issue_Resolution_Date?"NA":e.Issue_Resolution_Date)}}function M(e,t){if(1&e&&(n.Qb(0),n.Gc(1,L,42,8,"ng-container",12),n.Pb()),2&e){const e=n.gc();n.zb(1),n.nc("ngForOf",e.IssueDetailList)}}function P(e,t){1&e&&(n.Qb(0),n.Sb(1,"h6",14),n.Ic(2,"No Data Found"),n.Rb(),n.Pb())}function G(e,t){1&e&&(n.Sb(0,"div",21),n.Ic(1," Description is required. "),n.Rb())}function N(e,t){if(1&e&&(n.Sb(0,"div"),n.Gc(1,G,2,0,"div",20),n.Rb()),2&e){const e=n.gc(2);n.zb(1),n.nc("ngIf",null==e.updateIssueForm.get("IssueComment").errors?null:e.updateIssueForm.get("IssueComment").errors.required)}}function H(e,t){1&e&&(n.Sb(0,"div",23),n.Ic(1,"Note : This request is already closed."),n.Rb())}function O(e,t){if(1&e&&(n.Qb(0),n.Gc(1,H,2,0,"div",22),n.Pb()),2&e){const e=n.gc(2);n.zb(1),n.nc("ngIf","20"==e.IssueDetailList[0].Issue_Status)}}function w(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",15),n.Sb(1,"form",16),n.Nb(2,"textarea",17),n.Gc(3,N,2,1,"div",5),n.Sb(4,"button",18),n.cc("click",function(){return n.Ac(e),n.gc().UpdateIssue()}),n.Ic(5,"Save"),n.Rb(),n.Sb(6,"button",19),n.cc("click",function(){return n.Ac(e),n.gc().ResolvedIssue()}),n.Ic(7,"Resolved"),n.Rb(),n.Gc(8,O,2,1,"ng-container",5),n.Rb(),n.Rb()}if(2&e){const e=n.gc();n.zb(1),n.nc("formGroup",e.updateIssueForm),n.zb(2),n.nc("ngIf",!e.updateIssueForm.get("IssueComment").valid&&e.updateIssueForm.get("IssueComment").touched),n.zb(1),n.nc("disabled",!e.updateIssueForm.valid),n.zb(2),n.nc("disabled",!e.updateIssueForm.valid),n.zb(2),n.nc("ngIf",null!=e.IssueDetailList)}}function A(e,t){1&e&&(n.Qb(0),n.Sb(1,"li"),n.Ic(2,"No Conversation found"),n.Rb(),n.Pb())}function k(e,t){if(1&e&&(n.Sb(0,"h6",30),n.Ic(1,"Customer: "),n.Sb(2,"span"),n.Ic(3),n.Rb(),n.Rb()),2&e){const e=n.gc().$implicit;n.zb(3),n.Jc(e.Create_Date)}}function U(e,t){if(1&e&&(n.Sb(0,"h6",30),n.Ic(1,"Sales Person: "),n.Sb(2,"span"),n.Ic(3),n.Rb(),n.Rb()),2&e){const e=n.gc().$implicit;n.zb(3),n.Jc(e.Create_Date)}}function q(e,t){if(1&e&&(n.Qb(0),n.Sb(1,"li",24),n.Sb(2,"div",25),n.Sb(3,"span",26),n.Nb(4,"i",27),n.Rb(),n.Rb(),n.Sb(5,"div",28),n.Gc(6,k,4,1,"h6",29),n.Gc(7,U,4,1,"h6",29),n.Sb(8,"p"),n.Sb(9,"span",27),n.Ic(10),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Pb()),2&e){const e=t.$implicit;n.zb(1),n.nc("ngClass","SP"==e.flag?"reverse":""),n.zb(2),n.nc("ngClass","ED"==e.flag?"userClass":"salesPersonClass"),n.zb(1),n.nc("ngClass","SP"==e.flag?"fa fa-tty":"fa fa-user"),n.zb(2),n.nc("ngIf","ED"==e.flag),n.zb(1),n.nc("ngIf","SP"==e.flag),n.zb(2),n.nc("ngClass","ED"==e.flag?"userClass":""),n.zb(1),n.Jc(e.Remarks)}}function J(e,t){if(1&e&&(n.Qb(0),n.Gc(1,q,11,7,"ng-container",12),n.Pb()),2&e){const e=n.gc();n.zb(1),n.nc("ngForOf",e.IssueDetailList[0].Remarks)}}const T=[{path:"issue-dashboard",component:S},{path:"raise-issue",component:(()=>{class e{constructor(e,t,s,o,i,n){this._authService=e,this.fb=t,this._customer=s,this._DHCService=o,this._router=i,this.http=n,this.userid=""}ngOnInit(){this.userid=this._authService.getLoggedInUserid(),this.RaiseIssueForm=this.fb.group({CustomerCode:["",r.u.required],CategoryID:["",r.u.required],Division:["I2"],Description:["",r.u.required],FileString:[""],UserID:this.userid,Extension:[""]}),this.GetCustomerAccountList(this._authService.getLoggedInUserid()),this.GetCategoryList()}GetCustomerAccountList(e){this._customer.GetCustomerAccount(e).subscribe(e=>{this.customerAccountList=e.Data._UserInfo[0].CustomerAccountList})}GetCategoryList(){this._DHCService.GetCategoryList().subscribe(e=>{this.CategoryList=e.Data.CategoryList})}SubmitIssueDetail(){this._DHCService.RaiseIssue(this.RaiseIssueForm.value).subscribe(e=>{"Success"==e.Message&&(alert("Feedback submitted successfully."),this._router.navigate(["DHC/issue-dashboard"]))})}onFileSelect(e){const t=new RegExp("(.*?).(bmp|gif|png|jpg|jpeg|doc|doc|xls|mp4|docx|xlsx|txt|pdf)$");if(e.target.files.length>0){let s=e.target.files[0].name.lastIndexOf(".");if(s=e.target.files[0].name.slice(s),t.test(s)){const t=e.target.files[0],s=e.target.value.substr(e.target.value.lastIndexOf("\\")+1).split(".")[1],o=new FileReader;o.onloadend=()=>{var e=o.result.toString().split(";base64,")[1];console.log(e),this.RaiseIssueForm.get("FileString").setValue(e),this.RaiseIssueForm.get("Extension").setValue(s),this.RaiseIssueForm.enable()},e.target.files[0]&&o.readAsDataURL(t)}else alert("Please select correct file format"),this.RaiseIssueForm.disable()}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.a),n.Mb(r.d),n.Mb(a.b),n.Mb(b.a),n.Mb(i.c),n.Mb(h.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-raise-issue"]],decls:35,vars:7,consts:[[2,"text-align","center","background","#eee","padding","6px"],["enctype","multipart/form-data",3,"formGroup"],[1,"col-12"],[1,""],["for","CustomerCode"],["type","text","required","","formControlName","CustomerCode",1,"custom-select","custom-select-sm","tx-12"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","CategoryID"],["type","text","required","","formControlName","CategoryID",1,"custom-select","custom-select-sm","tx-12"],["for","Description"],["formControlName","Description","required","",1,"form-control","form-control-sm",2,"min-height","100px","resize","none"],["for","fileupload"],["type","file",1,"form-control",2,"padding","4px",3,"change"],["type","button",1,"btn","btn-sm","btn-primary","btn-block",2,"padding-top","2px","padding-bottom","2px","margin-top","3%",3,"disabled","click"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(n.Sb(0,"h5",0),n.Ic(1,"Raise New Issue"),n.Rb(),n.Sb(2,"form",1),n.Sb(3,"div",2),n.Sb(4,"div",3),n.Sb(5,"label",4),n.Ic(6,"User Account"),n.Rb(),n.Sb(7,"select",5),n.Sb(8,"option",6),n.Ic(9,"---Select Account List---"),n.Rb(),n.Gc(10,R,2,3,"option",7),n.Rb(),n.Gc(11,D,2,1,"div",8),n.Rb(),n.Rb(),n.Sb(12,"div",2),n.Sb(13,"div",3),n.Sb(14,"label",9),n.Ic(15,"Category"),n.Rb(),n.Sb(16,"select",10),n.Sb(17,"option",6),n.Ic(18,"---Select Category---"),n.Rb(),n.Gc(19,v,2,2,"option",7),n.Rb(),n.Gc(20,y,2,1,"div",8),n.Rb(),n.Rb(),n.Sb(21,"div",2),n.Sb(22,"div",3),n.Sb(23,"label",11),n.Ic(24,"Please Describe the Issue here"),n.Rb(),n.Nb(25,"textarea",12),n.Gc(26,x,2,1,"div",8),n.Rb(),n.Rb(),n.Sb(27,"div",2),n.Sb(28,"div",3),n.Sb(29,"label",13),n.Ic(30,"File Upload"),n.Rb(),n.Sb(31,"input",14),n.cc("change",function(e){return t.onFileSelect(e)}),n.Rb(),n.Rb(),n.Rb(),n.Sb(32,"div",2),n.Sb(33,"button",15),n.cc("click",function(){return t.SubmitIssueDetail()}),n.Ic(34,"SUBMIT"),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.zb(2),n.nc("formGroup",t.RaiseIssueForm),n.zb(8),n.nc("ngForOf",t.customerAccountList),n.zb(1),n.nc("ngIf",!t.RaiseIssueForm.get("CustomerCode").valid&&t.RaiseIssueForm.get("CustomerCode").touched),n.zb(8),n.nc("ngForOf",t.CategoryList),n.zb(1),n.nc("ngIf",!t.RaiseIssueForm.get("CategoryID").valid&&t.RaiseIssueForm.get("CategoryID").touched),n.zb(6),n.nc("ngIf",!t.RaiseIssueForm.get("Description").valid&&t.RaiseIssueForm.get("Description").touched),n.zb(7),n.nc("disabled",!t.RaiseIssueForm.valid))},directives:[r.v,r.m,r.g,r.t,r.s,r.l,r.e,r.p,r.w,o.n,o.o,r.b],styles:[""]}),e})()},{path:"update-issue/:issueno",component:(()=>{class e{constructor(e,t,s,o,i,n){this._AuthService=e,this._DHCService=t,this._EncDecService=s,this._router=o,this._activeRoute=i,this.fb=n}ngOnInit(){this.userid=this._AuthService.getLoggedInUserid(),this.updateIssueForm=this.fb.group({CustomerCode:[""],IssueHeaderID:[""],IssueDetailID:[""],IssueResolution:[""],IssueResolutionDate:[""],CategoryID:[""],Division:[""],Status:[""],IssueComment:["",r.u.required],IssueNo:[""],Action:[""],UserID:this.userid}),this._activeRoute.params.subscribe(e=>{let t=e.issueno;null!=t&&(t=this._EncDecService.get(t),this.GetIssueDetailbyIssueNo(t))})}GetIssueDetailbyIssueNo(e){this._DHCService.GetIssueDetailByIssueNo({IssueNo:e,UserID:this._AuthService.getLoggedInUserid()}).subscribe(e=>{console.log(e.Data.DHCHeaderList),"Success"==e.Message?(this.IssueDetailList=e.Data.DHCHeaderList,this.updateIssueForm.patchValue({CustomerCode:e.Data.DHCHeaderList[0].Issue_Raise_For,IssueHeaderID:e.Data.DHCHeaderList[0].Issue_Detail_ID,IssueDetailID:e.Data.DHCHeaderList[0].ID,IssueResolution:e.Data.DHCHeaderList[0].Issue_Resolution,IssueResolutionDate:e.Data.DHCHeaderList[0].Issue_Resolution_Date,CategoryID:e.Data.DHCHeaderList[0].Issue_Category_ID,IssueNo:e.Data.DHCHeaderList[0].Issue_No,Division:e.Data.DHCHeaderList[0].Issue_Prod_Category}),"20"==e.Data.DHCHeaderList[0].Issue_Status&&this.updateIssueForm.disable()):this.IssueDetailList=null})}UpdateIssue(){this.updateIssueForm.get("Action").setValue("Save"),this.updateIssueForm.get("Status").setValue("0"),this._DHCService.UpdateIssueDetail(this.updateIssueForm.value).subscribe(e=>{"Success"==e.Message&&(alert("Feedback submitted successfully."),this._router.navigate(["DHC/issue-dashboard"]))})}ResolvedIssue(){this.updateIssueForm.get("Action").setValue("update"),this.updateIssueForm.get("Status").setValue("20"),this._DHCService.UpdateIssueDetail(this.updateIssueForm.value).subscribe(e=>{"Success"==e.Message&&(alert("Feedback closed successfully."),this._router.navigate(["DHC/issue-dashboard"]))})}DownloadAttachment(e){this._DHCService.DownloadAttachment(e).subscribe(e=>{"Success"!=e.Message&&alert("something went wrong")})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.a),n.Mb(b.a),n.Mb(u.a),n.Mb(i.c),n.Mb(i.a),n.Mb(r.d))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-update-issue"]],decls:15,vars:6,consts:[[1,"content-body",2,"padding","4px"],[1,"card"],["class","card-header tx-medium",4,"ngIf"],[1,"card-body",2,"padding","0px"],[1,"table","table-sm","table-bordered","issuetable"],[4,"ngIf"],["class","col","style","padding-left: 4px;padding-right: 4px;",4,"ngIf"],[1,"mt-3",2,"padding","10px","background","#e4e4e4","font-weight","bold"],[1,"fa","fa-comments"],[2,"min-height","300px","max-height","200px","overflow","scroll"],[1,"chat-msg-list"],[1,"card-header","tx-medium"],[4,"ngFor","ngForOf"],[2,"text-decoration","underline","color","blue",3,"click"],[1,"text-center","mt-4",2,"color","red"],[1,"col",2,"padding-left","4px","padding-right","4px"],[3,"formGroup"],["required","","formControlName","IssueComment",1,"form-control","form-control-sm",2,"min-height","100px"],["type","button",1,"btn","btn-primary","btn-w48","mt-2",3,"disabled","click"],["type","button",1,"btn","btn-danger","btn-w48","mt-2",2,"float","right",3,"disabled","click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["style","font-size: 13px;color: #eeeded;background: #ff0024;font-weight: bold;font-family: inherit;margin-top: 2%;padding-left: 8px;",4,"ngIf"],[2,"font-size","13px","color","#eeeded","background","#ff0024","font-weight","bold","font-family","inherit","margin-top","2%","padding-left","8px"],[1,"msg-item",3,"ngClass"],[1,"avatar","avatar-sm"],[1,"avatar-initial","rounded-circle",3,"ngClass"],[3,"ngClass"],[1,"msg-body"],["class","msg-user",4,"ngIf"],[1,"msg-user"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Gc(2,z,4,1,"div",2),n.Sb(3,"div",3),n.Sb(4,"table",4),n.Gc(5,M,2,1,"ng-container",5),n.Gc(6,P,3,0,"ng-container",5),n.Rb(),n.Gc(7,w,9,5,"div",6),n.Sb(8,"h6",7),n.Nb(9,"i",8),n.Ic(10," Comment(s)"),n.Rb(),n.Sb(11,"div",9),n.Sb(12,"ul",10),n.Gc(13,A,3,0,"ng-container",5),n.Gc(14,J,2,1,"ng-container",5),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.zb(2),n.nc("ngIf",null!=t.IssueDetailList),n.zb(3),n.nc("ngIf",null!=t.IssueDetailList),n.zb(1),n.nc("ngIf",null==t.IssueDetailList),n.zb(1),n.nc("ngIf",null!=t.IssueDetailList),n.zb(6),n.nc("ngIf",null==t.IssueDetailList),n.zb(1),n.nc("ngIf",null!=t.IssueDetailList))},directives:[o.o,o.n,r.v,r.m,r.g,r.b,r.s,r.l,r.e,o.m],styles:[".issuetable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}table.table.table-sm.table-bordered.issuetable[_ngcontent-%COMP%]:first-child   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background:rgb(34 137 213);color:#fff;width:40%}.card-header[_ngcontent-%COMP%]{background-color:rgb(255 255 255);border-bottom:1px solid rgb(255 255 255);color:#000;margin-bottom:0;padding:6px!important;text-align:center}.btn-w48[_ngcontent-%COMP%]{width:48%}.msg-user[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:6px}.userClass[_ngcontent-%COMP%]{background-color:#ff0158;color:#fff}.salesPersonClass[_ngcontent-%COMP%]{background-color:#5556fd;color:#fff}"]}),e})()}];let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({imports:[[i.e.forChild(T)],i.e]}),e})();var E=s("To8U"),Y=s("dlKe"),$=s("xJkR");let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({imports:[[o.c,V,E.a,r.i,r.r,l.c,Y.b,$.b]]}),e})()}}]);